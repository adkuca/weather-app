(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{26:function(e,t,a){},28:function(e,t,a){},4:function(e){e.exports=JSON.parse('{"host":"https://api.openweathermap.org/data/2.5","city":"Pula","key":"524464013431281f7aabe3e488765d52"}')},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),s=a.n(c),i=(a(26),a(3)),o=a.n(i),u=a(5),d=a(8),l=(a(28),a(21)),h=a(10),m=a.n(h),p=a(4),f=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(p.host,"/weather?q=").concat(p.city,"&appid=").concat(p.key,"&units=metric"));case 2:return t=e.sent,e.abrupt("return",{name:(a=t.data).name,weather:a.weather,main:a.main,wind:a.wind});case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(p.host,"/forecast?q=").concat(p.city,"&appid=").concat(p.key,"&units=metric"));case 2:return t=e.sent,e.abrupt("return",t.data.list.reduce((function(e,t,a){return(a+1)%8===0?[].concat(Object(l.a)(e),[(n=t,{dt:n.dt,weather:n.weather,main:n.main,wind:n.wind})]):e;var n}),[]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=a(20),O=a.n(b),x=a(0),w=function(e){var t=e.children;return Object(x.jsx)(x.Fragment,{children:t})},N=w;w.propTypes={children:O.a.element.isRequired};a(50);var v=function(e){var t=e;if(!t||""===t||Array.isArray(t)||+t!==+t)return"";return t=16*t/360,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][t=((t=Math.round(t,0))+16)%16]},_=function(e){var t=e.isForecastOpen,a=e.weatherData,r=e.forecastData,c=e.openForecastHandler,s=Object(n.useMemo)((function(){var e,t=a.wind&&v(a.wind.deg);return{capitalizedDescrip:a.weather&&(e=a.weather[0].description).substr(0,1).toUpperCase()+e.substr(1),rightWeatherInfoBlock:Object(x.jsxs)("ul",{className:"main-info__list",children:[Object(x.jsxs)("li",{className:"main-info__item",children:["Feels Like: ",a.main&&Math.round(a.main.feels_like),"\xb0 C"]},1),Object(x.jsxs)("li",{className:"main-info__item",children:["Pressure: ",a.main&&a.main.pressure," hPa"]},2),Object(x.jsxs)("li",{className:"main-info__item",children:["Humidity: ",a.main&&a.main.humidity,"%"]},3),Object(x.jsxs)("li",{className:"main-info__item",children:["Wind: ",a.wind&&Math.round(a.wind.speed)," km/h, ",t]},4)]})}}),[a]),i=Object(n.useMemo)((function(){return{forecastBox:Object(x.jsxs)("div",{className:"forecast-box",children:[Object(x.jsx)("h2",{className:"forecast-box__title",children:"5 Day forecast"}),Object(x.jsx)("ul",{className:"forecast-box__list",children:r.map((function(e){var t,a=(t=e.weather[0].description).substr(0,1).toUpperCase()+t.substr(1);return Object(x.jsxs)("li",{className:"forecast-box__item",children:[Object(x.jsx)("span",{className:"forecast-box__weekday",children:new Date(1e3*e.dt).toLocaleDateString(void 0,{weekday:"short"})}),Object(x.jsxs)("span",{className:"forecast-box__temp",children:[Math.round(e.main.temp),"\xb0"]}),Object(x.jsx)("span",{className:"forecast-box__description",children:a})]},e.dt)}))})]})}}),[r]);return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"heading",children:[Object(x.jsxs)("h2",{className:"heading__city",children:[a.name,", ",s.capitalizedDescrip]}),Object(x.jsx)("div",{className:"heading__img-wrapper",children:Object(x.jsx)("img",{className:"heading__img",src:a.weather&&"http://openweathermap.org/img/w/".concat(a.weather[0].icon,".png"),alt:""})})]}),Object(x.jsxs)("div",{className:"main-info",children:[Object(x.jsxs)("h3",{className:"main-info__temp",children:[a.main&&Math.round(a.main.temp),"\xb0"]}),s.rightWeatherInfoBlock]}),Object(x.jsx)("button",{className:"open-forecast-btn",onClick:c,type:"button",children:t?"-":"+"}),t&&i.forecastBox]})},g=r.a.memo(_),y=f(),k=function(){var e=Object(n.useState)({}),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(d.a)(c,2),i=s[0],l=s[1],h=Object(n.useState)(!1),m=Object(d.a)(h,2),p=m[0],f=m[1];Object(n.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y;case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch weather data.",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(n.useEffect)((function(){if(p)try{Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))()}catch(e){console.error("Failed to fetch forecast data.",e)}}),[p]);var b=Object(n.useCallback)((function(){return f((function(e){return!e}))}),[]);return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(N,{children:"{}"===JSON.stringify(a)?Object(x.jsx)("h1",{children:"Loading..."}):Object(x.jsx)(g,{isForecastOpen:p,weatherData:a,forecastData:i,openForecastHandler:b})})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root")),S()}},[[51,1,2]]]);
//# sourceMappingURL=main.9f750392.chunk.js.map